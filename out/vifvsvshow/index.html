<!DOCTYPE html><html lang="en" class="__className_577ed0"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/1f3fe8c6df3d47c1-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/4f05ba3a6752a328-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/82050c55ac1c8c11-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" as="image" href="https://avatars.githubusercontent.com/u/52339771?v=4"/><link rel="stylesheet" href="/_next/static/css/48df2138df2e6856.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/7198505728be4078.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/354c4f287ddbdae0.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/56ee663620872bf0.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-cc6f4bbd58f02c04.js"/><script src="/_next/static/chunks/2ef8672f-bc2daebf9fe2c5a3.js" async=""></script><script src="/_next/static/chunks/520-d0847c1effd7724e.js" async=""></script><script src="/_next/static/chunks/main-app-9923c9d1e6347b08.js" async=""></script><script src="/_next/static/chunks/252-c08bd2e6e79378f4.js" async=""></script><script src="/_next/static/chunks/app/%5Bslug%5D/layout-c8e9a29bffafb4da.js" async=""></script><script src="/_next/static/chunks/app/%5Bslug%5D/page-8d1acff9edb9c31b.js" async=""></script><meta name="next-size-adjust" content=""/><title>v-if VS v-show — overreacted</title><meta name="description" content="很多人写 Vue 的时候都会下意识地使用 v-if 或 v-show，但你真的清楚它们的区别和适用场景吗？"/><link rel="icon" href="/icon.png?e0852c1e2c7f0e65" type="image/png" sizes="329x329"/><script>document.querySelectorAll('body link[rel="icon"], body link[rel="apple-touch-icon"]').forEach(el => document.head.appendChild(el))</script><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="mx-auto max-w-2xl bg-[--bg] px-5 py-12 text-[--text]"><header class="mb-14 flex flex-row place-content-between"><a class="__className_096e99 inline-block text-2xl font-black hover:scale-[1.02] scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="/"><span style="--myColor1:var(--pink);--myColor2:var(--purple);background-image:linear-gradient(45deg, var(--myColor1), var(--myColor2));background-clip:text;-webkit-background-clip:text;color:transparent;transition:--myColor1 0.2s ease-out, --myColor2 0.2s ease-in-out">overreacted</span></a><span class="relative top-[4px] italic">by<!-- --> <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://swanine.com"><img alt="Swanine" src="https://avatars.githubusercontent.com/u/52339771?v=4" class="relative -top-1 mx-1 inline h-8 w-8 rounded-full"/></a></span></header><main><article><h1 class="__className_096e99 text-[40px] font-black leading-[44px] text-[--title]">v-if VS v-show</h1><p class="mt-2 text-[13px] text-gray-700 dark:text-gray-300">December 11, 2023</p><div class="markdown mt-10"><p>我们都听过这句话：</p>
<blockquote>
<p>「切换频繁用 <code>v-show</code>，按需渲染用 <code>v-if</code>。」</p>
</blockquote>
<p>听起来很合理，但实际开发中经常被忽略或者误用。
先上最基本的区别：</p>
<div data-rehype-pretty-code-fragment=""><pre class="Overnight" style="background-color:var(--code-bg)" tabindex="0" data-language="vue" data-theme="default"><code data-language="vue" data-theme="default" style="display:grid"><span data-line=""><span style="color:#637777">&lt;!-- 条件成立时插入 DOM --&gt;</span></span>
<span data-line=""><span style="color:#C792EA">&lt;</span><span style="color:#FFA7C4">div</span><span style="color:#CED2D6"> </span><span style="color:#FFA7C4">v-if</span><span style="color:#C792EA">=</span><span style="color:#C792EA">&quot;</span><span style="color:#CED2D6">show</span><span style="color:#C792EA">&quot;</span><span style="color:#CED2D6"> </span><span style="color:#C792EA">class=</span><span style="color:#C792EA">&quot;</span><span style="color:#ECC48D">text-2xl font-sans text-purple-400 dark:text-purple-500</span><span style="color:#C792EA">&quot;</span><span style="color:#C792EA">&gt;</span></span>
<span data-line=""><span style="color:#CED2D6">  Hello</span></span>
<span data-line=""><span style="color:#C792EA">&lt;/</span><span style="color:#FFA7C4">div</span><span style="color:#C792EA">&gt;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#637777">&lt;!-- 总是在 DOM 中，只是 display:none --&gt;</span></span>
<span data-line=""><span style="color:#C792EA">&lt;</span><span style="color:#FFA7C4">div</span><span style="color:#CED2D6"> </span><span style="color:#C792EA">v-show=</span><span style="color:#C792EA">&quot;</span><span style="color:#CED2D6">show</span><span style="color:#C792EA">&quot;</span><span style="color:#CED2D6"> </span><span style="color:#C792EA">class=</span><span style="color:#C792EA">&quot;</span><span style="color:#ECC48D">text-2xl font-sans text-purple-400 dark:text-purple-500</span><span style="color:#C792EA">&quot;</span><span style="color:#C792EA">&gt;</span></span>
<span data-line=""><span style="color:#CED2D6">  Hello</span></span>
<span data-line=""><span style="color:#C792EA">&lt;/</span><span style="color:#FFA7C4">div</span><span style="color:#C792EA">&gt;</span></span></code></pre></div>
<ul>
<li><code>v-if</code>：真正从 DOM 中添加/删除节点</li>
<li><code>v-show</code>：节点始终存在，只是隐藏了</li>
</ul>
<hr/>
<h3>为什么选择 v-if</h3>
<p>你应该在这些场景下优先考虑 <code>v-if</code>：</p>
<ul>
<li>初始加载时组件不需要出现</li>
<li>组件内部会触发副作用（如发请求、注册监听器）</li>
<li>组件体积较大，不希望无意义地一直存在内存中
示例：</li>
</ul>
<div data-rehype-pretty-code-fragment=""><pre class="Overnight" style="background-color:var(--code-bg)" tabindex="0" data-language="vue" data-theme="default"><code data-language="vue" data-theme="default" style="display:grid"><span data-line=""><span style="color:#637777">&lt;!-- 条件成立时插入 DOM --&gt;</span></span>
<span data-line=""><span style="color:#637777">&lt;!-- 会在切换 tab 时重新创建 --&gt;</span></span>
<span data-line=""><span style="color:#C792EA">&lt;</span><span style="color:#FFA7C4">UserList</span><span style="color:#CED2D6"> </span><span style="color:#FFA7C4">v-if</span><span style="color:#C792EA">=</span><span style="color:#C792EA">&quot;</span><span style="color:#CED2D6">activeTab </span><span style="color:#C792EA">===</span><span style="color:#CED2D6"> </span><span style="color:#C792EA">&#x27;</span><span style="color:#ECC48D">user</span><span style="color:#C792EA">&#x27;&quot;</span><span style="color:#CED2D6"> </span><span style="color:#C792EA">/&gt;</span></span></code></pre></div>
<p>这类组件可能会在 <code>mounted</code> 阶段发起请求或渲染大量内容，<code>v-if</code> 可避免不必要的开销。</p>
<hr/>
<h3>v-show 的误区</h3>
<p><code>v-show</code> 很适合高频切换，比如 tab、展开/收起等场景。但它也隐藏了一个坑：</p>
<div data-rehype-pretty-code-fragment=""><pre class="Overnight" style="background-color:var(--code-bg)" tabindex="0" data-language="vue" data-theme="default"><code data-language="vue" data-theme="default" style="display:grid"><span data-line=""><span style="color:#637777">&lt;!-- 即使默认隐藏，仍会初始化和执行 mounted 生命周期 --&gt;</span></span>
<span data-line=""><span style="color:#C792EA">&lt;</span><span style="color:#FFA7C4">BigChart</span><span style="color:#CED2D6"> </span><span style="color:#C792EA">v-show=</span><span style="color:#C792EA">&quot;</span><span style="color:#F87086">false</span><span style="color:#C792EA">&quot;</span><span style="color:#CED2D6"> </span><span style="color:#C792EA">/&gt;</span></span></code></pre></div>
<p>上面这个组件会消耗大量内存并渲染 Canvas 图表。哪怕你看不到，它也已经加载完了。</p>
<h3>我的结论</h3>
<ul>
<li>优先使用 <code>v-if</code>，除非你明确知道你需要更快的 toggle 效果</li>
<li><code>v-show</code> 适合频繁展示/隐藏、对性能要求极高、组件非常轻量的场景</li>
<li>不要仅仅因为“它会被反复切换”就默认选用 <code>v-show</code>，先考虑是否有副作用或初始化成本
最重要的是：<strong>写代码时做选择，不要交给习惯</strong>。</li>
</ul>
<hr/>
<p>🧠 你所在的项目是否默认使用某一个？这背后的理由还站得住脚吗？</p><hr/><p><a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://bsky.app/search?q=https%3A%2F%2Foverreacted.io%2Fvifvsvshow%2F">Discuss on Bluesky</a>  ·  <a target="_blank" class=" scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="https://github.com/swanine">Edit on GitHub</a></p></div></article><!--$--><!--/$--><!--$--><!--/$--><footer class="mt-12"><a class="__className_096e99 inline-block text-2xl font-black hover:scale-[1.02] scale-100 active:scale-100" style="opacity:1;transition:transform 0.2s ease-in-out, opacity 0.2s 0.4s linear" href="/"><span style="--myColor1:var(--pink);--myColor2:var(--purple);background-image:linear-gradient(45deg, var(--myColor1), var(--myColor2));background-clip:text;-webkit-background-clip:text;color:transparent;transition:--myColor1 0.2s ease-out, --myColor2 0.2s ease-in-out">overreacted</span></a></footer></main><script src="/_next/static/chunks/webpack-cc6f4bbd58f02c04.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[9019,[\"252\",\"static/chunks/252-c08bd2e6e79378f4.js\",\"25\",\"static/chunks/app/%5Bslug%5D/layout-c8e9a29bffafb4da.js\"],\"default\"]\n3:I[4172,[\"252\",\"static/chunks/252-c08bd2e6e79378f4.js\",\"182\",\"static/chunks/app/%5Bslug%5D/page-8d1acff9edb9c31b.js\"],\"default\"]\n4:I[505,[],\"\"]\n5:I[6221,[],\"\"]\n7:I[1327,[],\"MetadataBoundary\"]\n9:I[1327,[],\"OutletBoundary\"]\nc:I[9989,[],\"AsyncMetadataOutlet\"]\ne:I[1327,[],\"ViewportBoundary\"]\n10:I[7992,[],\"\"]\n:HL[\"/_next/static/media/1f3fe8c6df3d47c1-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/4f05ba3a6752a328-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/82050c55ac1c8c11-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/48df2138df2e6856.css\",\"style\"]\n:HL[\"/_next/static/css/7198505728be4078.css\",\"style\"]\n:HL[\"/_next/static/css/354c4f287ddbdae0.css\",\"style\"]\n:HL[\"/_next/static/css/56ee663620872bf0.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"QpSHpR0C-SmZGHI7UkrYg\",\"p\":\"\",\"c\":[\"\",\"vifvsvshow\",\"\"],\"i\":false,\"f\":[[[\"\",{\"children\":[[\"slug\",\"vifvsvshow\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/48df2138df2e6856.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/7198505728be4078.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}],[\"$\",\"link\",\"2\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/354c4f287ddbdae0.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"className\":\"__className_577ed0\",\"children\":[\"$\",\"body\",null,{\"className\":\"mx-auto max-w-2xl bg-[--bg] px-5 py-12 text-[--text]\",\"children\":[[\"$\",\"header\",null,{\"className\":\"mb-14 flex flex-row place-content-between\",\"children\":[[\"$\",\"$L2\",null,{}],[\"$\",\"span\",null,{\"className\":\"relative top-[4px] italic\",\"children\":[\"by\",\" \",[\"$\",\"$L3\",null,{\"href\":\"https://swanine.com\",\"target\":\"_blank\",\"children\":[\"$\",\"img\",null,{\"alt\":\"Swanine\",\"src\":\"https://avatars.githubusercontent.com/u/52339771?v=4\",\"className\":\"relative -top-1 mx-1 inline h-8 w-8 rounded-full\"}]}]]}]]}],[\"$\",\"main\",null,{\"children\":[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"article\",null,{\"className\":\"markdown\",\"children\":[[\"$\",\"h1\",null,{\"className\":\"__className_096e99 text-[40px] font-black leading-[44px] text-[--title]\",\"children\":\"Not found\"}],[\"$\",\"div\",null,{\"className\":\"markdown mt-10\",\"children\":[[\"$\",\"p\",null,{\"children\":\"This page doesn't exist (yet?)\"}],[\"$\",\"p\",null,{\"children\":[\"I recently rewrote the site so maybe something broke. Please\",\" \",[\"$\",\"$L3\",null,{\"href\":\"https://github.com/swanine\",\"children\":\"complain here.\"}]]}],[\"$\",\"p\",null,{\"children\":[\"If you're looking for translated posts, they're not on the site anymore but you can find\",\" \",[\"$\",\"$L3\",null,{\"href\":\"https://github.com/swanine\",\"children\":\"an archive of them here.\"}]]}],[\"$\",\"p\",null,{\"children\":\"Hope you'll find what you're looking for.\"}]]}]]}],[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/56ee663620872bf0.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]]}]}]]}],{\"children\":[[\"slug\",\"vifvsvshow\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[null,[[\"$\",\"$L4\",null,{\"parallelRouterKey\":\"children\",\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L5\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}],[\"$\",\"footer\",null,{\"className\":\"mt-12\",\"children\":[\"$\",\"$L2\",null,{}]}]]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L6\",[\"$\",\"$L7\",null,{\"children\":\"$L8\"}],[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/56ee663620872bf0.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"$L9\",null,{\"children\":[\"$La\",\"$Lb\",[\"$\",\"$Lc\",null,{\"promise\":\"$@d\"}]]}]]}],{},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"nWq1JU5FMNzNFGoAufgvc\",{\"children\":[[\"$\",\"$Le\",null,{\"children\":\"$Lf\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}],null]}],false]],\"m\":\"$undefined\",\"G\":[\"$10\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"11:\"$Sreact.suspense\"\n12:I[9989,[],\"AsyncMetadata\"]\n8:[\"$\",\"$11\",null,{\"fallback\":null,\"children\":[\"$\",\"$L12\",null,{\"promise\":\"$@13\"}]}]\n"])</script><script>self.__next_f.push([1,"b:null\n"])</script><script>self.__next_f.push([1,"f:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"meta\",\"1\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\na:null\n"])</script><script>self.__next_f.push([1,"6:[\"$\",\"article\",null,{\"children\":[[\"$\",\"h1\",null,{\"className\":\"__className_096e99 text-[40px] font-black leading-[44px] text-[--title]\",\"children\":\"v-if VS v-show\"}],[\"$\",\"p\",null,{\"className\":\"mt-2 text-[13px] text-gray-700 dark:text-gray-300\",\"children\":\"December 11, 2023\"}],[\"$\",\"div\",null,{\"className\":\"markdown mt-10\",\"children\":[\"$L14\",[\"$\",\"hr\",null,{}],[\"$\",\"p\",null,{\"children\":[[\"$\",\"$L3\",null,{\"href\":\"https://bsky.app/search?q=https%3A%2F%2Foverreacted.io%2Fvifvsvshow%2F\",\"children\":\"Discuss on Bluesky\"}],\"  ·  \",[\"$\",\"$L3\",null,{\"href\":\"https://github.com/swanine\",\"children\":\"Edit on GitHub\"}]]}]]}]]}]\n"])</script><script>self.__next_f.push([1,"13:{\"metadata\":[[\"$\",\"title\",\"0\",{\"children\":\"v-if VS v-show — overreacted\"}],[\"$\",\"meta\",\"1\",{\"name\":\"description\",\"content\":\"很多人写 Vue 的时候都会下意识地使用 v-if 或 v-show，但你真的清楚它们的区别和适用场景吗？\"}],[\"$\",\"link\",\"2\",{\"rel\":\"icon\",\"href\":\"/icon.png?e0852c1e2c7f0e65\",\"type\":\"image/png\",\"sizes\":\"329x329\"}]],\"error\":null,\"digest\":\"$undefined\"}\nd:{\"metadata\":\"$13:metadata\",\"error\":null,\"digest\":\"$undefined\"}\n"])</script><script>self.__next_f.push([1,"14:[[\"$\",\"p\",null,{\"children\":\"我们都听过这句话：\"}],\"\\n\",[\"$\",\"blockquote\",null,{\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"「切换频繁用 \",[\"$\",\"code\",null,{\"children\":\"v-show\"}],\"，按需渲染用 \",[\"$\",\"code\",null,{\"children\":\"v-if\"}],\"。」\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"听起来很合理，但实际开发中经常被忽略或者误用。\\n先上最基本的区别：\"}],\"\\n\",[\"$\",\"div\",null,{\"data-rehype-pretty-code-fragment\":\"\",\"children\":[\"$\",\"pre\",null,{\"className\":\"Overnight\",\"style\":{\"backgroundColor\":\"var(--code-bg)\"},\"tabIndex\":\"0\",\"data-language\":\"vue\",\"data-theme\":\"default\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"vue\",\"data-theme\":\"default\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#637777\"},\"children\":\"\u003c!-- 条件成立时插入 DOM --\u003e\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FFA7C4\"},\"children\":\"div\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#CED2D6\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FFA7C4\"},\"children\":\"v-if\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#CED2D6\"},\"children\":\"show\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#CED2D6\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"class=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ECC48D\"},\"children\":\"text-2xl font-sans text-purple-400 dark:text-purple-500\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\u003e\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#CED2D6\"},\"children\":\"  Hello\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\u003c/\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FFA7C4\"},\"children\":\"div\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\u003e\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#637777\"},\"children\":\"\u003c!-- 总是在 DOM 中，只是 display:none --\u003e\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FFA7C4\"},\"children\":\"div\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#CED2D6\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"v-show=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#CED2D6\"},\"children\":\"show\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#CED2D6\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"class=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ECC48D\"},\"children\":\"text-2xl font-sans text-purple-400 dark:text-purple-500\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\u003e\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#CED2D6\"},\"children\":\"  Hello\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\u003c/\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FFA7C4\"},\"children\":\"div\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\u003e\"}]]}]]}]}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"v-if\"}],\"：真正从 DOM 中添加/删除节点\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"v-show\"}],\"：节点始终存在，只是隐藏了\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"为什么选择 v-if\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"你应该在这些场景下优先考虑 \",[\"$\",\"code\",null,{\"children\":\"v-if\"}],\"：\"]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":\"初始加载时组件不需要出现\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"组件内部会触发副作用（如发请求、注册监听器）\"}],\"\\n\",[\"$\",\"li\",null,{\"children\":\"组件体积较大，不希望无意义地一直存在内存中\\n示例：\"}],\"\\n\"]}],\"\\n\",[\"$\",\"div\",null,{\"data-rehype-pretty-code-fragment\":\"\",\"children\":[\"$\",\"pre\",null,{\"className\":\"Overnight\",\"style\":{\"backgroundColor\":\"var(--code-bg)\"},\"tabIndex\":\"0\",\"data-language\":\"vue\",\"data-theme\":\"default\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"vue\",\"data-theme\":\"default\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#637777\"},\"children\":\"\u003c!-- 条件成立时插入 DOM --\u003e\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#637777\"},\"children\":\"\u003c!-- 会在切换 tab 时重新创建 --\u003e\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FFA7C4\"},\"children\":\"UserList\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#CED2D6\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FFA7C4\"},\"children\":\"v-if\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#CED2D6\"},\"children\":\"activeTab \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"===\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#CED2D6\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"'\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#ECC48D\"},\"children\":\"user\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"'\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#CED2D6\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"/\u003e\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"这类组件可能会在 \",[\"$\",\"code\",null,{\"children\":\"mounted\"}],\" 阶段发起请求或渲染大量内容，\",[\"$\",\"code\",null,{\"children\":\"v-if\"}],\" 可避免不必要的开销。\"]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"v-show 的误区\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"v-show\"}],\" 很适合高频切换，比如 tab、展开/收起等场景。但它也隐藏了一个坑：\"]}],\"\\n\",[\"$\",\"div\",null,{\"data-rehype-pretty-code-fragment\":\"\",\"children\":[\"$\",\"pre\",null,{\"className\":\"Overnight\",\"style\":{\"backgroundColor\":\"var(--code-bg)\"},\"tabIndex\":\"0\",\"data-language\":\"vue\",\"data-theme\":\"default\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"vue\",\"data-theme\":\"default\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#637777\"},\"children\":\"\u003c!-- 即使默认隐藏，仍会初始化和执行 mounted 生命周期 --\u003e\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#FFA7C4\"},\"children\":\"BigChart\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#CED2D6\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"v-show=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#F87086\"},\"children\":\"false\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#CED2D6\"},\"children\":\" \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#C792EA\"},\"children\":\"/\u003e\"}]]}]]}]}]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"上面这个组件会消耗大量内存并渲染 Canvas 图表。哪怕你看不到，它也已经加载完了。\"}],\"\\n\",[\"$\",\"h3\",null,{\"children\":\"我的结论\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[\"优先使用 \",[\"$\",\"code\",null,{\"children\":\"v-if\"}],\"，除非你明确知道你需要更快的 toggle 效果\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"v-show\"}],\" 适合频繁展示/隐藏、对性能要求极高、组件非常轻量的场景\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[\"不要仅仅因为“它会被反复切换”就默认选用 \",[\"$\",\"code\",null,{\"children\":\"v-show\"}],\"，先考虑是否有副作用或初始化成本\\n最重要的是：\",[\"$\",\"strong\",null,{\"children\":\"写代码时做选择，不要交给习惯\"}],\"。\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"🧠 你所在的项目是否默认使用某一个？这背后的理由还站得住脚吗？\"}]]\n"])</script></body></html>